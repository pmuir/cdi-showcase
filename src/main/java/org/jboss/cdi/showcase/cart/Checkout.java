package org.jboss.cdi.showcase.cart;import java.util.ArrayList;import java.util.List;import java.util.logging.Logger;import javax.enterprise.inject.Any;import javax.enterprise.inject.Instance;import javax.enterprise.inject.Produces;import javax.inject.Inject;import org.jboss.cdi.showcase.payments.CreditCard;import org.jboss.cdi.showcase.payments.PaymentProcessor;public class Checkout {		private static final Logger log = Logger.getLogger(ShoppingCart.class.getName());		@Inject 	private User user;		private final ShoppingCart cart;		private PaymentProcessor paymentProcessor; 	@Inject	public Checkout(ShoppingCart cart) {		this.cart = cart;	}		@Inject	void setPaymentProcessor(@CreditCard PaymentProcessor paymentProcessor) {		this.paymentProcessor = paymentProcessor;	}		@Produces @PaymentMethods	public List<String> getAvailablePaymentMethods(@Any Instance<PaymentProcessor> paymentProcessorsInstance) {		List<String> methods = new ArrayList<String>();		for (PaymentProcessor paymentProcessor : paymentProcessorsInstance) {			for (String s : paymentProcessor.getSupportedMethods()) {				methods.add(s);			}		}		return methods;	}		public List<Item> checkout() {		List<Item> items = cart.checkout();		log.info("User " + user.getName() + " bought:");		for (Item item : items) {			log.info("  * " + item.getName());		}		return items;	}	}